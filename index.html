<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <title>ğŸ” Ø¨ÙŠØ§Ù†Ø§ØªÙŠ Ø§Ù„Ø­ÙŠØ©</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background: #f5f7fa; margin: 0; padding: 20px; }
        .container { max-width: 900px; margin: 0 auto; background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        h1 { color: #2c3e50; text-align: center; margin-bottom: 20px; }
        .login { text-align: center; margin: 30px 0; }
        input[type="password"] { padding: 12px; width: 220px; border: 1px solid #ddd; border-radius: 6px; font-size: 16px; direction: ltr; }
        button { padding: 12px 30px; background: #3498db; color: white; border: none; border-radius: 6px; font-size: 16px; cursor: pointer; margin-top: 10px; }
        button:hover { background: #2980b9; }
        #data { display: none; margin-top: 20px; }
        table { width: 100%; border-collapse: collapse; margin: 15px 0; }
        th, td { padding: 12px; text-align: right; border-bottom: 1px solid #eee; }
        th { background: #f8f9fa; font-weight: bold; }
        .loading { text-align: center; color: #7f8c8d; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” Ø¨ÙŠØ§Ù†Ø§ØªÙŠ Ø§Ù„Ø­ÙŠØ© Ù…Ù† Ø£ÙŠ Ù…ÙƒØ§Ù†</h1>
        
        <div class="login">
            <p>Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ø¹Ø±Ø¶ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ:</p>
            <input type="password" id="pass" placeholder="1234">
            <br>
            <button onclick="showData()">Ø¯Ø®ÙˆÙ„</button>
        </div>

        <div id="data">
            <div class="loading">Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</div>
        </div>
    </div>

    <script>
        function showData() {
            if (document.getElementById("pass").value !== "1234") {
                alert("âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©!");
                return;
            }
            document.getElementById("data").innerHTML = '<div class="loading">Ø¬Ø§Ø±ÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø³Ø­Ø§Ø¨Ø©...</div>';
            
            // Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Firebase (Ø§Ù„Ø¢Ù† Ù…Ø³Ù…ÙˆØ­ Ø¨Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©!)
            fetch("https://debtapp-alg-default-rtdb.firebaseio.com/.json")
                .then(response => response.json())
                .then(data => {
                    let html = "";
                    
                    // Ø§Ù„Ø´Ø±Ø§Ø¦Ø­
                    if (data.sim_cards) {
                        html += `<h2>ğŸ“± Ø§Ù„Ø´Ø±Ø§Ø¦Ø­ ÙˆØ§Ù„Ø±ØµÙŠØ¯</h2><table><thead><tr><th>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</th><th>Ù†ÙˆØ¹ Ø§Ù„Ø´Ø±ÙŠØ­Ø©</th><th>Ø§Ù„Ø³Ø¹Ø±</th><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th></tr></thead><tbody>`;
                        Object.values(data.sim_cards).forEach(rec => {
                            const date = rec["ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ°ÙƒÙŠØ±"] ? new Date(rec["ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ°ÙƒÙŠØ±"]) : "";
                            const dateStr = date ? `${date.getDate()} ${["ÙŠÙ†Ø§ÙŠØ±","ÙØ¨Ø±Ø§ÙŠØ±","Ù…Ø§Ø±Ø³","Ø£Ø¨Ø±ÙŠÙ„","Ù…Ø§ÙŠÙˆ","ÙŠÙˆÙ†ÙŠÙˆ","ÙŠÙˆÙ„ÙŠÙˆ","Ø£ØºØ³Ø·Ø³","Ø³Ø¨ØªÙ…Ø¨Ø±","Ø£ÙƒØªÙˆØ¨Ø±","Ù†ÙˆÙÙ…Ø¨Ø±","Ø¯ÙŠØ³Ù…Ø¨Ø±"][date.getMonth()]} ${date.getFullYear()}` : "";
                            html += `<tr><td>${rec["Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„"] || ""}</td><td>${rec["Ù†ÙˆØ¹ Ø§Ù„Ø´Ø±ÙŠØ­Ø©"] || ""}</td><td>${rec["Ø§Ù„Ø³Ø¹Ø±"] || ""}</td><td>${dateStr}</td></tr>`;
                        });
                        html += "</tbody></table>";
                    }

                    // Ø§Ù„Ø£Ø¯ÙˆØ§Øª
                    if (data.household_tools) {
                        html += `<h2>ğŸ› ï¸ Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ù†Ø²Ù„ÙŠØ©</h2><table><thead><tr><th>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</th><th>Ù†ÙˆØ¹ Ø§Ù„Ø£Ø¯Ø§Ø©</th><th>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø³ØªØ±Ø¬Ø§Ø¹</th></tr></thead><tbody>`;
                        Object.values(data.household_tools).forEach(rec => {
                            const date = rec["ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø³ØªØ±Ø¬Ø§Ø¹"] ? new Date(rec["ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø³ØªØ±Ø¬Ø§Ø¹"]) : "";
                            const dateStr = date ? `${date.getDate()} ${["ÙŠÙ†Ø§ÙŠØ±","ÙØ¨Ø±Ø§ÙŠØ±","Ù…Ø§Ø±Ø³","Ø£Ø¨Ø±ÙŠÙ„","Ù…Ø§ÙŠÙˆ","ÙŠÙˆÙ†ÙŠÙˆ","ÙŠÙˆÙ„ÙŠÙˆ","Ø£ØºØ³Ø·Ø³","Ø³Ø¨ØªÙ…Ø¨Ø±","Ø£ÙƒØªÙˆØ¨Ø±","Ù†ÙˆÙÙ…Ø¨Ø±","Ø¯ÙŠØ³Ù…Ø¨Ø±"][date.getMonth()]} ${date.getFullYear()}` : "";
                            html += `<tr><td>${rec["Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„"] || ""}</td><td>${rec["Ù†ÙˆØ¹ Ø§Ù„Ø£Ø¯Ø§Ø©"] || ""}</td><td>${dateStr}</td></tr>`;
                        });
                        html += "</tbody></table>";
                    }

                    if (!data.sim_cards && !data.household_tools) {
                        html = "<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø¹Ø¯.</p>";
                    }

                    document.getElementById("data").innerHTML = html;
                })
                .catch(err => {
                    document.getElementById("data").innerHTML = "<p style='color:red;'>âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§ØªØµØ§Ù„.</p>";
                });
        }
    </script>
</body>
</html>
